
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Welcome to uptime’s documentation! &#8212; SuperDARN-Uptime 1 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="welcome-to-uptime-s-documentation">
<h1>Welcome to uptime’s documentation!<a class="headerlink" href="#welcome-to-uptime-s-documentation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>This project provides scripts for fetching and processing SuperDARN experiment
metadata and calculating basic statistics from these processed records.</p>
<p>A detailed log of events during fetching, parsing, and processing is maintained
as well as a separately compiled list of SuperDARN .rawacf files which showed
signs of data corruption or otherwise unusual behaviour.</p>
</div>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>This script uses a number of basic Python packages as well as two crucial
specialized modules. It’s highly recommended to make use of the python Virtual
Environments package ‘virtualenv’ so as to create a convenient local
environment for this script.
Read more here: <a class="reference external" href="http://docs.python-guide.org/en/latest/dev/virtualenvs/">http://docs.python-guide.org/en/latest/dev/virtualenvs/</a></p>
<p>Specialized module #1 is <em>backscatter</em>. It’s used for its ability to read
.rawacf files and retrieve their metadata (backscatter.dmap). Follow
installation procedure here: <a class="reference external" href="http://backscatter.readthedocs.io/en/latest/">http://backscatter.readthedocs.io/en/latest/</a></p>
<p>Specialized module #2 is the <em>sync_radar_data_globus.py</em> script. This script
is used to perform data fetch requests in order to bring in, parse, and save
SuperDARN record metadata to a database locally.</p>
<p><strong>This requires that you
have a Globus account with access to the SuperDARN Globus endpoints, with
Globus configured locally!</strong></p>
<p>See how to do this here:
<a class="reference external" href="https://github.com/SuperDARNCanada/globus">https://github.com/SuperDARNCanada/globus</a></p>
<p>To summarize, the regular ol’ python packages you’ll need are:</p>
<ul class="simple">
<li>numpy</li>
<li>sqlite3</li>
<li>calendar</li>
<li>dateutil</li>
<li>configparser</li>
<li>multiprocessing</li>
<li>argparse &lt; built-in? &gt;</li>
<li>logging &lt; built-in? &gt;</li>
</ul>
<p>And the specialized packages you’ll need are:</p>
<ul class="simple">
<li>backscatter (see here:</li>
</ul>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>The files ‘parse.py’ and ‘uptime.py’ are written so as to be usable either
from the command-line or from other python scripts. The python package
‘argparse’ was used, which includes help prompts at the command-line.</p>
<p>A script
Example usage of uptime.py
————————–
Use of ‘uptime.py’ for calculating uptime statistics (assuming the
‘superdarntimes.sqlite’ file has already been filled with records for the
desired period using parse.py) is done like so:</p>
<p>&gt; uptime.py -y 2017 -m 3 -d 28 -i 5</p>
<p>Uses uptime.py’s “stats_day()” method to take a SuperDARN radar ID and a
specific year, month, and day, looks through all the SuperDARN records in the
superdarntimes.sqlite database, and computes the uptime for that day. SuperDARN
radar IDs are numbers as shown here:
<a class="reference external" href="http://superdarn.ca/news/item/58-sd-radar-list">http://superdarn.ca/news/item/58-sd-radar-list</a></p>
<p>&gt; uptime.py -y 2017 -m 3 -i 5</p>
<p>Similar to the previous example, but uses uptime.py’s “stats_month()” which
calls multiple runs of “stats_day()”</p>
<div class="section" id="example-usage-of-parse-py">
<h3>Example usage of parse.py<a class="headerlink" href="#example-usage-of-parse-py" title="Permalink to this headline">¶</a></h3>
<p>Command-line usage of ‘parse.py’ for fetching and processing SuperDARN record
data is done like so:</p>
<p>&gt; parse.py -y 2017 -m 3</p>
<p>This calls parse.py’s method “process_rawacfs_month()” with 2017, 3, as
parameters for year, and month, respectively. This method will iterate through
each day in the month of 2017-03, requesting _all_ SuperDARN .rawacf for that
day.</p>
<p>&gt; parse.py -y 2017 -m 3 -d 29 -c sas</p>
<p>This run is comparable to the previous, but illustrates that two optional
parameters can be provided to fetch and process a smaller dataset. The -d
option specifies a particular day of the month, while the -c option can be used
to specify a particular SuperDARN radar code (for SuperDARN data codes, see
here: <a class="reference external" href="http://superdarn.ca/news/item/58-sd-radar-list">http://superdarn.ca/news/item/58-sd-radar-list</a></p>
<p>&gt; parse.py -f data/20170601.2001.00.cly.rawacf.bz2</p>
<p>This calls parse.py’s method “parse_file()” on the specified file, which
will only read the file and save its metadata to the superdarntimes.sqlite
database.</p>
<p>&gt; parse.py -d data/</p>
<p>This calls parse.py’s method “parse_rawacfs_folder()” on the specified
directory, which will only read the files already in the directory and save
their metadata to the superdarntimes.sqlite database.</p>
</div>
</div>
<div class="section" id="current-issues-and-necessary-work">
<h2>Current Issues and Necessary Work<a class="headerlink" href="#current-issues-and-necessary-work" title="Permalink to this headline">¶</a></h2>
<p>I) To massively improve the time it takes to perform parsing and processing of
the .rawacf files, the multiprocessing package for python was used. However,
it seems to possibly be causing database errors.</p>
<p>II) Some regular errors are frequently encountered in the execution of these
scripts. Certain .rawacf files can’t be parsed by <em>backscatter</em> so database
entries for these records will be absent (when perhaps there was only a minor
formatting error).</p>
<p>III) Although I have a little python script I’ve used for testing, it’s not
very spiffed up and not currently a part of the repo.</p>
<p>IV) I haven’t actually set up the documentation very well yet so that it links
to all the modules…</p>
<div class="toctree-wrapper compound">
</div>
</div>
<div class="section" id="indices-and-tables">
<h2>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></li>
<li><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></li>
<li><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="#">SuperDARN-Uptime</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, David Fairbairn.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>